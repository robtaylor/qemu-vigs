#!/usr/bin/make -f

package=samsung-sdk-simulator

SRCDIR = src
CC     = gcc

export DH_VERBOSE=1

build:
	autoconf && ./configure && $(MAKE)
	touch build

binary:

clean:
	dh_testdir
	dh_clean
	rm -rf debian/tmp debian/files* debian/substvars
	rm -f build
	autoconf && ./configure && $(MAKE) -i distclean

install: build
	dh_clean
	dh_installdirs
	$(MAKE) prefix=$(CURDIR)/debian/tmp/opt/samsung_sdk install
	mkdir -p debian/tmp/usr/share/applications
	cp -p samsung-sdk_simulator.desktop debian/tmp/usr/share/applications/.

binary-arch: install
	dh_testdir -a
	dh_testroot -a
	dh_strip -a
	dh_compress -a
	dh_fixperms -a
	dh_installdeb -a
	dh_shlibdeps -a
	dh_gencontrol -a
	dh_md5sums -a
	dh_builddeb -a

binary: binary-indep binary-arch

.PHONY: binary binary-arch binary-indep clean checkroot
